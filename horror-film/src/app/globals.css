@import "tailwindcss";

:root {
  --background: #020202;
  --foreground: #f8f8f8;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: #030303;
  color: var(--foreground);
  font-family: var(--font-sans), system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", sans-serif;
  min-height: 100vh;
}

.scene {
  position: fixed;
  inset: 0;
  background-size: cover;
  background-position: center;
  filter: saturate(0.7) contrast(1.15) brightness(0.9);
  transition:
    background-image 2s ease,
    filter 1.6s ease;
}

.scene.playing {
  animation: slow-pan 32s linear infinite;
}

.scene-house {
  background-image: linear-gradient(
      rgba(5, 5, 5, 0.85),
      rgba(5, 5, 5, 0.85)
    ),
    url("https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=1600&q=80");
}

.scene-doll {
  background-image: linear-gradient(
      rgba(8, 2, 2, 0.92),
      rgba(8, 2, 2, 0.92)
    ),
    url("https://images.unsplash.com/photo-1600336754289-0bde6f33c2ae?auto=format&fit=crop&w=1600&q=80");
}

.scene-presence {
  background-image: linear-gradient(
      rgba(2, 2, 2, 0.96),
      rgba(10, 0, 0, 0.9)
    ),
    url("https://images.unsplash.com/photo-1604076850742-4c7221f3101a?auto=format&fit=crop&w=1600&q=80");
  filter: saturate(0.65) contrast(1.3) brightness(0.75);
}

.jump-cut {
  animation: jump-cut 0.3s steps(2, end);
}

.overlay {
  pointer-events: none;
  position: absolute;
  inset: 0;
}

.overlay--grain {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='2.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='0.35'/%3E%3C/svg%3E");
  mix-blend-mode: soft-light;
  opacity: 0.55;
  animation: flicker 0.6s infinite steps(4, end);
}

.overlay--vignette {
  background: radial-gradient(
      circle at 20% 20%,
      rgba(255, 36, 36, 0.05),
      transparent 35%
    ),
    radial-gradient(circle at 80% 20%, rgba(50, 0, 0, 0.08), transparent 40%),
    radial-gradient(circle at 50% 120%, rgba(0, 0, 0, 0.9), transparent 60%);
  mix-blend-mode: multiply;
  opacity: 0.8;
}

@keyframes slow-pan {
  0% {
    transform: scale(1.02) translate3d(0%, 0%, 0);
  }
  50% {
    transform: scale(1.07) translate3d(1%, -1%, 0);
  }
  100% {
    transform: scale(1.02) translate3d(0%, 0%, 0);
  }
}

@keyframes jump-cut {
  0%,
  100% {
    filter: grayscale(1) contrast(1.8) brightness(1.4);
  }
  49% {
    filter: sepia(0.6) brightness(0.6) contrast(2);
  }
  50% {
    filter: invert(1) hue-rotate(-40deg) contrast(0.6);
  }
}

@keyframes flicker {
  0%,
  100% {
    opacity: 0.62;
  }
  50% {
    opacity: 0.35;
  }
}
